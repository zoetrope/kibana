[[area-chart]]
=== Area Charts

このグラフのY軸は _metrics_ の軸です。
この軸には、以下のaggregationを利用することができます。

*Count*:: {ref}/search-aggregations-metrics-valuecount-aggregation.html[_count_] aggregationは、選択されたインデックスパターンの要素数を返します。
*Average*:: {ref}/search-aggregations-metrics-avg-aggregation.html[_average_] aggregationは、数値フィールドの平均値を返します。ドロップダウンからフィールドを選択してください。
*Sum*:: {ref}/search-aggregations-metrics-sum-aggregation.html[_sum_] aggregation は、数値フィールドの合計値を返します。ドロップダウンからフィールドを選択してください。
*Min*:: {ref}/search-aggregations-metrics-min-aggregation.html[_min_] aggregation は、数値フィールドの最小値を返します。
ドロップダウンからフィールドを選択してください。
*Max*:: {ref}/search-aggregations-metrics-max-aggregation.html[_max_] aggregation は数値フィールドの最大値を返します。
ドロップダウンからフィールドを選択してください。
*Unique Count*:: {ref}/search-aggregations-metrics-cardinality-aggregation.html[_cardinality_] aggregation は、フィールドの中のユニークな値の数を返します。
ドロップダウンからフィールドを選択してください。
*Percentiles*:: {ref}/search-aggregations-metrics-percentile-aggregation.html[_percentile_] aggregation は、数値フィールドの値を指定した幅のパーセンタイルに分割します。
ドロップダウンからフィールドを選択し、 *Percentiles* フィールドの範囲を1つ以上指定してください。
*×* をクリックするとパーセンタイルフィールドを削除できます。
*+ Add* をクリックすると、パーセンタイルフィールドを追加できます。
*Percentile Rank*:: {ref}/search-aggregations-metrics-percentile-rank-aggregation.html[_percentile ranks_] aggregationは、指定した数値フィールドの値のパーセンタイルランキングを返します。
ドロップダウンからフィールドを選択し、 *Percentiles* フィールドの範囲を1つ以上指定してください。
*×* をクリックするとパーセンタイルフィールドを削除できます。
*+ Add* をクリックすると、パーセンタイルフィールドを追加できます。

*+ Add Aggregation* ボタンをクリックすると、aggregationを追加することができます。

include::x-axis-aggs_ja.asciidoc[]
For example, a chart of dates with incident counts can display dates in chronological order, or you can raise the priority of the incident-reporting aggregation to show the most active dates first.
The chronological order might show a time-dependent pattern in incident count, and sorting by active dates can reveal particular outliers in your data.

You can click the *Advanced* link to display more customization options for your metrics or bucket aggregation:

*Exclude Pattern*:: Specify a pattern in this field to exclude from the results.
*Exclude Pattern Flags*:: A standard set of Java flags for the exclusion pattern.
*Include Pattern*:: Specify a pattern in this field to include in the results.
*Include Pattern Flags*:: A standard set of Java flags for the inclusion pattern.
*JSON Input*:: A text field where you can add specific JSON-formatted properties to merge with the aggregation definition, as in the following example:

[source,shell]
{ "script" : "doc['grade'].value * 1.2" }

NOTE: In Elasticsearch releases 1.4.3 and later, this functionality requires you to enable 
{ref}/modules-scripting.html[dynamic Groovy scripting].

The availability of these options varies depending on the aggregation you choose.

Select the *Options* tab to change the following aspects of the chart:

*Chart Mode*:: When you have multiple Y-axis aggregations defined for your chart, you can use this drop-down to affect how the aggregations display on the chart:

_stacked_:: Stacks the aggregations on top of each other.
_overlap_:: The aggregations overlap, with translucency indicating areas of overlap.
_wiggle_:: Displays the aggregations as a https://en.wikipedia.org/wiki/Streamgraph[streamgraph].
_percentage_:: Displays each aggregation as a proportion of the total.
_silhouette_:: Displays each aggregation as variance from a central line.

Checkboxes are available to enable and disable the following behaviors:

*Smooth Lines*:: Check this box to curve the top boundary of the area from point to point.
*Set Y-Axis Extents*:: Check this box and enter values in the *y-max* and *y-min* fields to set the Y axis to specific 
values. 
*Scale Y-Axis to Data Bounds*:: The default Y axis bounds are zero and the maximum value returned in the data.
Check this box to change both upper and lower bounds to match the values returned in the data.
*Show Tooltip*:: Check this box to enable the display of tooltips.
*Show Legend*:: Check this box to enable the display of a legend next to the chart.
